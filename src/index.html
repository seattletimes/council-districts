<!doctype html>
<html>
  <head>
    <title><%= json.project.title %></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <%= t.include("partials/_adHead.html") %>
  </head>

  <body class="frozen show-chatter">
    <nav class="bar">
      <a href="http://seattletimes.com">
        <img src="http://seattletimes.com/art/ui/seattletimeslogo_home.svg" class="logo">
      </a>
      <h2 class="section-title">Politics</h2>
      <span class="about"><i class="fa fa-question-circle"></i></span>
      <a class="share"></a>
    </nav>

    <div class="back">Back <i class="fa fa-chevron-right"></i></div>

    <div id="map"></div>
    <div class="ghost-disclaimer">
      <div class="inner">
        City Council positions 8 and 9 aren't associated with specific geographic districts. They are citywide seats.
      </div>
    </div>

    <div class="outer-legend">
      <div class="desktop legend">
        <div class="legend-header">
          <div class="legend-name"></div>
          <div class="legend-label"></div>
        </div>
        
        <div class="canvas-container"><canvas id="desktop-canvas"></canvas></div>
        <div class="tiny-label min"></div>
        <div class="tiny-label max"></div>
      </div>
    </div>

    <div class="info-box">
      <div class="outer-legend">
        <div class="mobile legend">
          <div class="legend-header">
            <div class="legend-name"></div>
            <div class="legend-label"></div>
          </div>
          <canvas id="mobile-canvas"></canvas>
          <div class="tiny-label min"></div>
          <div class="tiny-label max"></div>
        </div>
        <div class="show-locate"><i class="fa fa-map-marker"></i></div>
      </div>

      <div class="chatter">
        <div class="close-chatter"><i class="fa fa-times"></i></div>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Check out more of our <a href="http://blogs.seattletimes.com/politicsnorthwest/topics/2015-seattle-city-council-elections/">local election coverage.</a>

        <div class="credit">Interactive by Audrey Carlsen</div>
      </div>
      
      <div class="location-box">
        <div class="inner-location-box">
          <div class="result-box">
            You are in:
            <h2 class="result"></h2>
          </div>
          <div class="spinner">
            <i class="fa fa-spinner fa-spin"></i> <em>Loading...</em>
          </div>
          <div class="validation-box">
            <span class="validation"></span>
          </div>
          <div class="search">
            <i class="fa fa-search"></i> Use a different address:
          </div>
          <div class="find-by-address">
            <input id="address" class="address"><button class="onward-button">GO</button><i class="locate-icon fa fa-location-arrow"></i>
          </div>
        </div>
        
          <div class="inner-buttons">
            <div class="explore button">
              EXPLORE
            </div>
      
        </div>
      </div>

      <div class="data-box">
        <div class="close-data"><i class="fa fa-times"></i></div>
        <h4>Compare districts by:</h4>

        <% for (var name in json.demo_options) { %>
          <%= t.include("partials/_compareTemplate.html", { name: name, options: json.demo_options[name] }) %>
        <% } %>
      </div>

      <select class="select" name="select">
        <option value="1">District 1</option> 
        <option value="2">District 2</option>
        <option value="3">District 3</option>
        <option value="4">District 4</option>
        <option value="5">District 5</option>
        <option value="6">District 6</option>
        <option value="7">District 7</option>
        <option value="8">District 8</option>
        <option value="9">District 9</option>
      </select>
      <div class="view-data">
        VIEW DATA
      </div>
      <div class="close-district"><i class="fa fa-times"></i></div>

      <div class="district-box"></div>
    </div>

    <script>
      <% 
        var candidateData = {};
        json.CityCouncilCandidates_Sheet1.forEach(function(c) {
          var district = c.district;
          var name = c.name;
          if (!candidateData[district]) { candidateData[district] = [] }
          candidateData[district].push(name);
        });
      %>
      var candidateData = window.candidateData = <%= JSON.stringify(candidateData) %>
      var demoOptions = window.demoOptions = <%= JSON.stringify(json.demo_options) %>;
      var demoData = window.demoData = <%= JSON.stringify(csv.demo_data_short) %>;
      var demoPercents = <%= JSON.stringify(csv.demo_data_percentages) %>;
      window.formatNumber = <%= t.formatNumber.toString() %>
    </script>

    <script src="app.js"></script>
    <% /*= t.include("partials/_adFoot.html"); */ %>
    <%= t.include("partials/_workHere.html") %>
  </body>
</html>
